{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, useRef } from \"react\";\nimport HeroScene from \"./hero-scene\";\nimport WeeklyNew from \"./weekly-new\";\nimport FoodlabConcept from \"./foodlab-concept\";\nimport NewRestaurants from \"./new-restaurants\";\nimport ContactSection from \"./contact-section\";\nimport Footer from \"./footer\";\n\nvar usePrevious = function usePrevious(value) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nvar Home = function Home(props) {\n  var history = props.history;\n\n  var _useState = useState(false),\n      isVisible = _useState[0],\n      setIsVisible = _useState[1];\n\n  var _useState2 = useState(0),\n      count = _useState2[0],\n      setCount = _useState2[1];\n\n  var hotDogRef = useRef(null);\n  var contactTitle = useRef(null);\n  var contactIconContainer = useRef(null);\n  var conceptContainer = useRef(null);\n  var weeklyCard = useRef(null);\n  var newRestaurantsContainer = useRef(null);\n  var contactContainer = useRef(null);\n  var prevCount = usePrevious(count);\n\n  var triggerHotDog = function triggerHotDog() {\n    var windowHeight = window.innerHeight;\n    var view = window.pageYOffset;\n    var hotDogIconDistance = hotDogRef.current.offsetTop;\n    var hotDogIconHeight = hotDogRef.current.height;\n\n    if (windowHeight + view - hotDogIconHeight >= hotDogIconDistance) {\n      setIsVisible(true);\n    }\n  };\n\n  var moveContactElements = function moveContactElements(e) {\n    var pageMiddleX = window.innerWidth / 2;\n    var pageMiddleY = window.innerHeight / 2;\n    var distanceFromMiddleX = e.clientX - pageMiddleX;\n    var distanceFromMiddleY = e.clientY - pageMiddleY;\n    contactIconContainer.current.style.transform = \"matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,\".concat(distanceFromMiddleX * 0.04, \",\").concat(distanceFromMiddleY * 0.08, \",0,1)\");\n    contactTitle.current.style.transform = \"matrix3d(1,0,0.00,\".concat(distanceFromMiddleX * 0.0000007, \",0.00,1,0.00,0,0,0,1,0,\").concat(distanceFromMiddleX * -0.02, \",\").concat(distanceFromMiddleY * -0.05, \",0,1)\");\n  };\n\n  useEffect(function () {\n    if (count < prevCount) {\n      if (prevCount - count < 40) {\n        return;\n      }\n\n      weeklyCard.current.classList.remove(\"bg-spin-down\");\n      weeklyCard.current.classList.add(\"bg-spin-up\");\n      conceptContainer.current.classList.remove(\"bg-spin-down\");\n      conceptContainer.current.classList.add(\"bg-spin-up\");\n      newRestaurantsContainer.current.classList.remove(\"bg-spin-down\");\n      newRestaurantsContainer.current.classList.add(\"bg-spin-up\");\n    } else if (count > prevCount) {\n      if (count - prevCount < 40) {\n        return;\n      }\n\n      weeklyCard.current.classList.remove(\"bg-spin-up\");\n      weeklyCard.current.classList.add(\"bg-spin-down\");\n      conceptContainer.current.classList.remove(\"bg-spin-up\");\n      conceptContainer.current.classList.add(\"bg-spin-down\");\n      newRestaurantsContainer.current.classList.remove(\"bg-spin-up\");\n      newRestaurantsContainer.current.classList.add(\"bg-spin-down\");\n    }\n  }, [count, prevCount]);\n  useEffect(function () {\n    window.addEventListener(\"scroll\", function () {\n      setCount(window.pageYOffset);\n    }, false);\n    return function () {\n      return window.removeEventListener(\"scroll\", function () {\n        setCount(null);\n      }, false);\n    };\n  }, []);\n  useEffect(function () {\n    window.addEventListener(\"scroll\", triggerHotDog, false);\n    return function () {\n      return window.removeEventListener(\"scroll\", triggerHotDog, false);\n    };\n  }, []);\n  useEffect(function () {\n    var container = contactContainer.current;\n    container.addEventListener(\"mousemove\", moveContactElements, false);\n    return function () {\n      return container.removeEventListener(\"mousemove\", moveContactElements, false);\n    };\n  }, []);\n  return __jsx(\"div\", {\n    className: \"home-wrapper\"\n  }, __jsx(HeroScene, {\n    history: history\n  }), __jsx(WeeklyNew, {\n    history: history,\n    weeklyCard: weeklyCard\n  }), __jsx(FoodlabConcept, {\n    conceptContainer: conceptContainer\n  }), __jsx(NewRestaurants, {\n    history: history,\n    newRestaurantsContainer: newRestaurantsContainer\n  }), __jsx(ContactSection, {\n    history: history,\n    contactContainer: contactContainer,\n    contactIconContainer: contactIconContainer,\n    contactTitle: contactTitle\n  }), __jsx(Footer, {\n    hotDogRef: hotDogRef,\n    isVisible: isVisible\n  }));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/estellegresillon/Code/airbnb-redux/src/components/home/home.jsx"],"names":["React","useState","useEffect","useRef","HeroScene","WeeklyNew","FoodlabConcept","NewRestaurants","ContactSection","Footer","usePrevious","value","ref","current","Home","props","history","isVisible","setIsVisible","count","setCount","hotDogRef","contactTitle","contactIconContainer","conceptContainer","weeklyCard","newRestaurantsContainer","contactContainer","prevCount","triggerHotDog","windowHeight","window","innerHeight","view","pageYOffset","hotDogIconDistance","offsetTop","hotDogIconHeight","height","moveContactElements","e","pageMiddleX","innerWidth","pageMiddleY","distanceFromMiddleX","clientX","distanceFromMiddleY","clientY","style","transform","classList","remove","add","addEventListener","removeEventListener","container"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n\nimport HeroScene from \"./hero-scene\";\nimport WeeklyNew from \"./weekly-new\";\nimport FoodlabConcept from \"./foodlab-concept\";\nimport NewRestaurants from \"./new-restaurants\";\nimport ContactSection from \"./contact-section\";\nimport Footer from \"./footer\";\n\nconst usePrevious = value => {\n  const ref = useRef();\n\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nconst Home = props => {\n  const { history } = props;\n  const [isVisible, setIsVisible] = useState(false);\n  const [count, setCount] = useState(0);\n  const hotDogRef = useRef(null);\n  const contactTitle = useRef(null);\n  const contactIconContainer = useRef(null);\n  const conceptContainer = useRef(null);\n  const weeklyCard = useRef(null);\n  const newRestaurantsContainer = useRef(null);\n  const contactContainer = useRef(null);\n  const prevCount = usePrevious(count)\n\n  const triggerHotDog = () => {\n    const windowHeight = window.innerHeight;\n    const view = window.pageYOffset;\n    const hotDogIconDistance = hotDogRef.current.offsetTop;\n    const hotDogIconHeight = hotDogRef.current.height;\n\n    if ((windowHeight + view - hotDogIconHeight) >= hotDogIconDistance) {\n      setIsVisible(true);\n    }\n  }\n\n  const moveContactElements = e => {\n    const pageMiddleX = window.innerWidth / 2;\n    const pageMiddleY = window.innerHeight / 2;\n    const distanceFromMiddleX = e.clientX - pageMiddleX;\n    const distanceFromMiddleY = e.clientY - pageMiddleY;\n\n    contactIconContainer.current.style.transform =\n      `matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,${distanceFromMiddleX * 0.04},${distanceFromMiddleY * 0.08},0,1)`;\n    contactTitle.current.style.transform =\n      `matrix3d(1,0,0.00,${distanceFromMiddleX * 0.0000007},0.00,1,0.00,0,0,0,1,0,${distanceFromMiddleX * -0.02},${distanceFromMiddleY * -0.05},0,1)`;\n  }\n\n  useEffect(() => {\n    if (count < prevCount) {\n      if (prevCount - count < 40) {\n        return;\n      }\n      weeklyCard.current.classList.remove(\"bg-spin-down\");\n      weeklyCard.current.classList.add(\"bg-spin-up\");\n      conceptContainer.current.classList.remove(\"bg-spin-down\");\n      conceptContainer.current.classList.add(\"bg-spin-up\");\n      newRestaurantsContainer.current.classList.remove(\"bg-spin-down\");\n      newRestaurantsContainer.current.classList.add(\"bg-spin-up\");\n    } else if (count > prevCount) {\n      if (count - prevCount < 40) {\n        return;\n      }\n      weeklyCard.current.classList.remove(\"bg-spin-up\");\n      weeklyCard.current.classList.add(\"bg-spin-down\");\n      conceptContainer.current.classList.remove(\"bg-spin-up\");\n      conceptContainer.current.classList.add(\"bg-spin-down\");\n      newRestaurantsContainer.current.classList.remove(\"bg-spin-up\");\n      newRestaurantsContainer.current.classList.add(\"bg-spin-down\");\n    }\n  }, [count, prevCount]);\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", () => { setCount(window.pageYOffset) }, false);\n    return () => window.removeEventListener(\"scroll\", () => { setCount(null) }, false);\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", triggerHotDog, false);\n    return () => window.removeEventListener(\"scroll\", triggerHotDog, false);\n  }, [])\n\n  useEffect(() => {\n    const container = contactContainer.current;\n    container.addEventListener(\"mousemove\", moveContactElements, false);\n    return () => container.removeEventListener(\"mousemove\", moveContactElements, false);\n  }, [])\n\n  return (\n    <div className=\"home-wrapper\">\n      <HeroScene history={history} />\n      <WeeklyNew history={history} weeklyCard={weeklyCard} />\n      <FoodlabConcept conceptContainer={conceptContainer} />\n      <NewRestaurants history={history} newRestaurantsContainer={newRestaurantsContainer} />\n      <ContactSection\n        history={history}\n        contactContainer={contactContainer}\n        contactIconContainer={contactIconContainer}\n        contactTitle={contactTitle}\n      />\n      <Footer hotDogRef={hotDogRef} isVisible={isVisible} />\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}