{"ast":null,"code":"var _jsxFileName = \"/Users/estellegresillon/Code/airbnb-redux/src/components/home/home.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useRef } from \"react\";\nimport HeroScene from \"./hero-scene\";\nimport WeeklyNew from \"./weekly-new\";\nimport FoodlabConcept from \"./foodlab-concept\";\nimport NewRestaurants from \"./new-restaurants\";\nimport ContactSection from \"./contact-section\";\nimport Footer from \"./footer\";\n\nconst usePrevious = value => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nconst Home = props => {\n  const {\n    history\n  } = props;\n  const {\n    0: isVisible,\n    1: setIsVisible\n  } = useState(false);\n  const {\n    0: count,\n    1: setCount\n  } = useState(0);\n  const hotDogRef = useRef(null);\n  const contactTitle = useRef(null);\n  const contactIconContainer = useRef(null);\n  const conceptContainer = useRef(null);\n  const weeklyCard = useRef(null);\n  const newRestaurantsContainer = useRef(null);\n  const contactContainer = useRef(null);\n  const prevCount = usePrevious(count);\n\n  const triggerHotDog = () => {\n    const windowHeight = window.innerHeight;\n    const view = window.pageYOffset;\n    const hotDogIconDistance = hotDogRef.current.offsetTop;\n    const hotDogIconHeight = hotDogRef.current.height;\n\n    if (windowHeight + view - hotDogIconHeight >= hotDogIconDistance) {\n      setIsVisible(true);\n    }\n  };\n\n  const moveContactElements = e => {\n    const pageMiddleX = window.innerWidth / 2;\n    const pageMiddleY = window.innerHeight / 2;\n    const distanceFromMiddleX = e.clientX - pageMiddleX;\n    const distanceFromMiddleY = e.clientY - pageMiddleY;\n    contactIconContainer.current.style.transform = `matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,${distanceFromMiddleX * 0.04},${distanceFromMiddleY * 0.08},0,1)`;\n    contactTitle.current.style.transform = `matrix3d(1,0,0.00,${distanceFromMiddleX * 0.0000007},0.00,1,0.00,0,0,0,1,0,${distanceFromMiddleX * -0.02},${distanceFromMiddleY * -0.05},0,1)`;\n  };\n\n  useEffect(() => {\n    if (count < prevCount) {\n      if (prevCount - count < 40) {\n        return;\n      }\n\n      weeklyCard.current.classList.remove(\"bg-spin-down\");\n      weeklyCard.current.classList.add(\"bg-spin-up\");\n      conceptContainer.current.classList.remove(\"bg-spin-down\");\n      conceptContainer.current.classList.add(\"bg-spin-up\");\n      newRestaurantsContainer.current.classList.remove(\"bg-spin-down\");\n      newRestaurantsContainer.current.classList.add(\"bg-spin-up\");\n    } else if (count > prevCount) {\n      if (count - prevCount < 40) {\n        return;\n      }\n\n      weeklyCard.current.classList.remove(\"bg-spin-up\");\n      weeklyCard.current.classList.add(\"bg-spin-down\");\n      conceptContainer.current.classList.remove(\"bg-spin-up\");\n      conceptContainer.current.classList.add(\"bg-spin-down\");\n      newRestaurantsContainer.current.classList.remove(\"bg-spin-up\");\n      newRestaurantsContainer.current.classList.add(\"bg-spin-down\");\n    }\n  }, [count, prevCount]);\n  useEffect(() => {\n    window.addEventListener(\"scroll\", () => {\n      setCount(window.pageYOffset);\n    }, false);\n    return () => window.removeEventListener(\"scroll\", () => {\n      setCount(null);\n    }, false);\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"scroll\", triggerHotDog, false);\n    return () => window.removeEventListener(\"scroll\", triggerHotDog, false);\n  }, []);\n  useEffect(() => {\n    const container = contactContainer.current;\n    container.addEventListener(\"mousemove\", moveContactElements, false);\n    return () => container.removeEventListener(\"mousemove\", moveContactElements, false);\n  }, []);\n  return __jsx(\"div\", {\n    className: \"home-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, __jsx(HeroScene, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), __jsx(WeeklyNew, {\n    history: history,\n    weeklyCard: weeklyCard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), __jsx(FoodlabConcept, {\n    conceptContainer: conceptContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), __jsx(NewRestaurants, {\n    history: history,\n    newRestaurantsContainer: newRestaurantsContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), __jsx(ContactSection, {\n    history: history,\n    contactContainer: contactContainer,\n    contactIconContainer: contactIconContainer,\n    contactTitle: contactTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), __jsx(Footer, {\n    hotDogRef: hotDogRef,\n    isVisible: isVisible,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/estellegresillon/Code/airbnb-redux/src/components/home/home.jsx"],"names":["React","useState","useEffect","useRef","HeroScene","WeeklyNew","FoodlabConcept","NewRestaurants","ContactSection","Footer","usePrevious","value","ref","current","Home","props","history","isVisible","setIsVisible","count","setCount","hotDogRef","contactTitle","contactIconContainer","conceptContainer","weeklyCard","newRestaurantsContainer","contactContainer","prevCount","triggerHotDog","windowHeight","window","innerHeight","view","pageYOffset","hotDogIconDistance","offsetTop","hotDogIconHeight","height","moveContactElements","e","pageMiddleX","innerWidth","pageMiddleY","distanceFromMiddleX","clientX","distanceFromMiddleY","clientY","style","transform","classList","remove","add","addEventListener","removeEventListener","container"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AAEA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAC3B,QAAMC,GAAG,GAAGT,MAAM,EAAlB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,GAAG,CAACC,OAAJ,GAAcF,KAAd;AACD,GAFQ,CAAT;AAGA,SAAOC,GAAG,CAACC,OAAX;AACD,CAPD;;AASA,MAAMC,IAAI,GAAGC,KAAK,IAAI;AACpB,QAAM;AAAEC,IAAAA;AAAF,MAAcD,KAApB;AACA,QAAM;AAAA,OAACE,SAAD;AAAA,OAAYC;AAAZ,MAA4BjB,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM;AAAA,OAACkB,KAAD;AAAA,OAAQC;AAAR,MAAoBnB,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAMoB,SAAS,GAAGlB,MAAM,CAAC,IAAD,CAAxB;AACA,QAAMmB,YAAY,GAAGnB,MAAM,CAAC,IAAD,CAA3B;AACA,QAAMoB,oBAAoB,GAAGpB,MAAM,CAAC,IAAD,CAAnC;AACA,QAAMqB,gBAAgB,GAAGrB,MAAM,CAAC,IAAD,CAA/B;AACA,QAAMsB,UAAU,GAAGtB,MAAM,CAAC,IAAD,CAAzB;AACA,QAAMuB,uBAAuB,GAAGvB,MAAM,CAAC,IAAD,CAAtC;AACA,QAAMwB,gBAAgB,GAAGxB,MAAM,CAAC,IAAD,CAA/B;AACA,QAAMyB,SAAS,GAAGlB,WAAW,CAACS,KAAD,CAA7B;;AAEA,QAAMU,aAAa,GAAG,MAAM;AAC1B,UAAMC,YAAY,GAAGC,MAAM,CAACC,WAA5B;AACA,UAAMC,IAAI,GAAGF,MAAM,CAACG,WAApB;AACA,UAAMC,kBAAkB,GAAGd,SAAS,CAACR,OAAV,CAAkBuB,SAA7C;AACA,UAAMC,gBAAgB,GAAGhB,SAAS,CAACR,OAAV,CAAkByB,MAA3C;;AAEA,QAAKR,YAAY,GAAGG,IAAf,GAAsBI,gBAAvB,IAA4CF,kBAAhD,EAAoE;AAClEjB,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AACF,GATD;;AAWA,QAAMqB,mBAAmB,GAAGC,CAAC,IAAI;AAC/B,UAAMC,WAAW,GAAGV,MAAM,CAACW,UAAP,GAAoB,CAAxC;AACA,UAAMC,WAAW,GAAGZ,MAAM,CAACC,WAAP,GAAqB,CAAzC;AACA,UAAMY,mBAAmB,GAAGJ,CAAC,CAACK,OAAF,GAAYJ,WAAxC;AACA,UAAMK,mBAAmB,GAAGN,CAAC,CAACO,OAAF,GAAYJ,WAAxC;AAEApB,IAAAA,oBAAoB,CAACV,OAArB,CAA6BmC,KAA7B,CAAmCC,SAAnC,GACG,6CAA4CL,mBAAmB,GAAG,IAAK,IAAGE,mBAAmB,GAAG,IAAK,OADxG;AAEAxB,IAAAA,YAAY,CAACT,OAAb,CAAqBmC,KAArB,CAA2BC,SAA3B,GACG,qBAAoBL,mBAAmB,GAAG,SAAU,0BAAyBA,mBAAmB,GAAG,CAAC,IAAK,IAAGE,mBAAmB,GAAG,CAAC,IAAK,OAD3I;AAED,GAVD;;AAYA5C,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIiB,KAAK,GAAGS,SAAZ,EAAuB;AACrB,UAAIA,SAAS,GAAGT,KAAZ,GAAoB,EAAxB,EAA4B;AAC1B;AACD;;AACDM,MAAAA,UAAU,CAACZ,OAAX,CAAmBqC,SAAnB,CAA6BC,MAA7B,CAAoC,cAApC;AACA1B,MAAAA,UAAU,CAACZ,OAAX,CAAmBqC,SAAnB,CAA6BE,GAA7B,CAAiC,YAAjC;AACA5B,MAAAA,gBAAgB,CAACX,OAAjB,CAAyBqC,SAAzB,CAAmCC,MAAnC,CAA0C,cAA1C;AACA3B,MAAAA,gBAAgB,CAACX,OAAjB,CAAyBqC,SAAzB,CAAmCE,GAAnC,CAAuC,YAAvC;AACA1B,MAAAA,uBAAuB,CAACb,OAAxB,CAAgCqC,SAAhC,CAA0CC,MAA1C,CAAiD,cAAjD;AACAzB,MAAAA,uBAAuB,CAACb,OAAxB,CAAgCqC,SAAhC,CAA0CE,GAA1C,CAA8C,YAA9C;AACD,KAVD,MAUO,IAAIjC,KAAK,GAAGS,SAAZ,EAAuB;AAC5B,UAAIT,KAAK,GAAGS,SAAR,GAAoB,EAAxB,EAA4B;AAC1B;AACD;;AACDH,MAAAA,UAAU,CAACZ,OAAX,CAAmBqC,SAAnB,CAA6BC,MAA7B,CAAoC,YAApC;AACA1B,MAAAA,UAAU,CAACZ,OAAX,CAAmBqC,SAAnB,CAA6BE,GAA7B,CAAiC,cAAjC;AACA5B,MAAAA,gBAAgB,CAACX,OAAjB,CAAyBqC,SAAzB,CAAmCC,MAAnC,CAA0C,YAA1C;AACA3B,MAAAA,gBAAgB,CAACX,OAAjB,CAAyBqC,SAAzB,CAAmCE,GAAnC,CAAuC,cAAvC;AACA1B,MAAAA,uBAAuB,CAACb,OAAxB,CAAgCqC,SAAhC,CAA0CC,MAA1C,CAAiD,YAAjD;AACAzB,MAAAA,uBAAuB,CAACb,OAAxB,CAAgCqC,SAAhC,CAA0CE,GAA1C,CAA8C,cAA9C;AACD;AACF,GAtBQ,EAsBN,CAACjC,KAAD,EAAQS,SAAR,CAtBM,CAAT;AAwBA1B,EAAAA,SAAS,CAAC,MAAM;AACd6B,IAAAA,MAAM,CAACsB,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AAAEjC,MAAAA,QAAQ,CAACW,MAAM,CAACG,WAAR,CAAR;AAA8B,KAAxE,EAA0E,KAA1E;AACA,WAAO,MAAMH,MAAM,CAACuB,mBAAP,CAA2B,QAA3B,EAAqC,MAAM;AAAElC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AAAgB,KAA7D,EAA+D,KAA/D,CAAb;AACD,GAHQ,EAGN,EAHM,CAAT;AAKAlB,EAAAA,SAAS,CAAC,MAAM;AACd6B,IAAAA,MAAM,CAACsB,gBAAP,CAAwB,QAAxB,EAAkCxB,aAAlC,EAAiD,KAAjD;AACA,WAAO,MAAME,MAAM,CAACuB,mBAAP,CAA2B,QAA3B,EAAqCzB,aAArC,EAAoD,KAApD,CAAb;AACD,GAHQ,EAGN,EAHM,CAAT;AAKA3B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMqD,SAAS,GAAG5B,gBAAgB,CAACd,OAAnC;AACA0C,IAAAA,SAAS,CAACF,gBAAV,CAA2B,WAA3B,EAAwCd,mBAAxC,EAA6D,KAA7D;AACA,WAAO,MAAMgB,SAAS,CAACD,mBAAV,CAA8B,WAA9B,EAA2Cf,mBAA3C,EAAgE,KAAhE,CAAb;AACD,GAJQ,EAIN,EAJM,CAAT;AAMA,SACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAW,IAAA,OAAO,EAAEvB,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,SAAD;AAAW,IAAA,OAAO,EAAEA,OAApB;AAA6B,IAAA,UAAU,EAAES,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,MAAC,cAAD;AAAgB,IAAA,gBAAgB,EAAED,gBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE,MAAC,cAAD;AAAgB,IAAA,OAAO,EAAER,OAAzB;AAAkC,IAAA,uBAAuB,EAAEU,uBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE,MAAC,cAAD;AACE,IAAA,OAAO,EAAEV,OADX;AAEE,IAAA,gBAAgB,EAAEW,gBAFpB;AAGE,IAAA,oBAAoB,EAAEJ,oBAHxB;AAIE,IAAA,YAAY,EAAED,YAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAWE,MAAC,MAAD;AAAQ,IAAA,SAAS,EAAED,SAAnB;AAA8B,IAAA,SAAS,EAAEJ,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CADF;AAeD,CA3FD;;AA6FA,eAAeH,IAAf","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n\nimport HeroScene from \"./hero-scene\";\nimport WeeklyNew from \"./weekly-new\";\nimport FoodlabConcept from \"./foodlab-concept\";\nimport NewRestaurants from \"./new-restaurants\";\nimport ContactSection from \"./contact-section\";\nimport Footer from \"./footer\";\n\nconst usePrevious = value => {\n  const ref = useRef();\n\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nconst Home = props => {\n  const { history } = props;\n  const [isVisible, setIsVisible] = useState(false);\n  const [count, setCount] = useState(0);\n  const hotDogRef = useRef(null);\n  const contactTitle = useRef(null);\n  const contactIconContainer = useRef(null);\n  const conceptContainer = useRef(null);\n  const weeklyCard = useRef(null);\n  const newRestaurantsContainer = useRef(null);\n  const contactContainer = useRef(null);\n  const prevCount = usePrevious(count)\n\n  const triggerHotDog = () => {\n    const windowHeight = window.innerHeight;\n    const view = window.pageYOffset;\n    const hotDogIconDistance = hotDogRef.current.offsetTop;\n    const hotDogIconHeight = hotDogRef.current.height;\n\n    if ((windowHeight + view - hotDogIconHeight) >= hotDogIconDistance) {\n      setIsVisible(true);\n    }\n  }\n\n  const moveContactElements = e => {\n    const pageMiddleX = window.innerWidth / 2;\n    const pageMiddleY = window.innerHeight / 2;\n    const distanceFromMiddleX = e.clientX - pageMiddleX;\n    const distanceFromMiddleY = e.clientY - pageMiddleY;\n\n    contactIconContainer.current.style.transform =\n      `matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,${distanceFromMiddleX * 0.04},${distanceFromMiddleY * 0.08},0,1)`;\n    contactTitle.current.style.transform =\n      `matrix3d(1,0,0.00,${distanceFromMiddleX * 0.0000007},0.00,1,0.00,0,0,0,1,0,${distanceFromMiddleX * -0.02},${distanceFromMiddleY * -0.05},0,1)`;\n  }\n\n  useEffect(() => {\n    if (count < prevCount) {\n      if (prevCount - count < 40) {\n        return;\n      }\n      weeklyCard.current.classList.remove(\"bg-spin-down\");\n      weeklyCard.current.classList.add(\"bg-spin-up\");\n      conceptContainer.current.classList.remove(\"bg-spin-down\");\n      conceptContainer.current.classList.add(\"bg-spin-up\");\n      newRestaurantsContainer.current.classList.remove(\"bg-spin-down\");\n      newRestaurantsContainer.current.classList.add(\"bg-spin-up\");\n    } else if (count > prevCount) {\n      if (count - prevCount < 40) {\n        return;\n      }\n      weeklyCard.current.classList.remove(\"bg-spin-up\");\n      weeklyCard.current.classList.add(\"bg-spin-down\");\n      conceptContainer.current.classList.remove(\"bg-spin-up\");\n      conceptContainer.current.classList.add(\"bg-spin-down\");\n      newRestaurantsContainer.current.classList.remove(\"bg-spin-up\");\n      newRestaurantsContainer.current.classList.add(\"bg-spin-down\");\n    }\n  }, [count, prevCount]);\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", () => { setCount(window.pageYOffset) }, false);\n    return () => window.removeEventListener(\"scroll\", () => { setCount(null) }, false);\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", triggerHotDog, false);\n    return () => window.removeEventListener(\"scroll\", triggerHotDog, false);\n  }, [])\n\n  useEffect(() => {\n    const container = contactContainer.current;\n    container.addEventListener(\"mousemove\", moveContactElements, false);\n    return () => container.removeEventListener(\"mousemove\", moveContactElements, false);\n  }, [])\n\n  return (\n    <div className=\"home-wrapper\">\n      <HeroScene history={history} />\n      <WeeklyNew history={history} weeklyCard={weeklyCard} />\n      <FoodlabConcept conceptContainer={conceptContainer} />\n      <NewRestaurants history={history} newRestaurantsContainer={newRestaurantsContainer} />\n      <ContactSection\n        history={history}\n        contactContainer={contactContainer}\n        contactIconContainer={contactIconContainer}\n        contactTitle={contactTitle}\n      />\n      <Footer hotDogRef={hotDogRef} isVisible={isVisible} />\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}